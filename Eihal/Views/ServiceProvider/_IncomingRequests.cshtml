@model List<Eihal.Data.Entites.ReferralRequest>

@foreach (var referral in Model)
{
    <div class="col-md-4 padding-top-25" data-toggle="modal"   data-target="#RefApproveRejectModal">
        <div class="referral-card" style="    border: 1px solid #eadfdf;
    border-radius: 10px;font-size: 13px;">
            <div class="referral-card-body">
                <h5 class="referral-card-title"><i class="fa-regular fa-user"></i><strong style="color:black;padding: 20px;">@referral.CreatedByUser.FullName </strong></h5>
                <div class="referral-info-row">
                    <div class="referral-info-label" style="padding:10px"><span class="ref-info-label">ID</span> <span style="color:gray">  @referral.Id.ToString("D4")   </span> <span  class="ref-info-label" style="padding-left: 25px;"> Date</span> <span style="color:gray">@referral.CreationDate.ToString("yyyy/MM/dd")</span></div>
                    <div class="referral-info-label" style="padding:10px">
                        <span class="ref-info-label">Status</span>
                        @if (referral.Status == Eihal.Enums.ReferralStatusEnum.UnderReview)
                        {
                            <span class="status status-warning">Under Review</span>
                        }
                        else if (referral.Status == Eihal.Enums.ReferralStatusEnum.Approved)
                        {
                            <span class="status status-success">@referral.Status</span>
                        }
                        else if (referral.Status == Eihal.Enums.ReferralStatusEnum.Rejected)
                        {
                            <span class="status status-error">@referral.Status</span>
                        }
                        <br>
                        <br>
                        <span class="ref-info-label"> Privilege Name</span><span style="color:gray"> @referral.Service.TitleEn </span>
                    </div>
                </div>

            </div>
        </div>
    </div>
}
@if (Model.Count == 0)
{
    <div class="no-results-section" style="padding-top:70px">
        <img src="~/images/NoResult.png" style="width: 150px;
    height: 150px;" width="150px" height="150px" alt="No Results Found Icon">
        <p>No incoming requests found.</p>
    </div>
}


<style>
.ref-info-label
{
            width: 30%;
    font-size: 14px;
    font-weight: 600;
    color: darkcyan;
}
</style>

<!------------------------------ Approve/Reject  -------------------->
<div class="modal fade" id="RefApproveRejectModal" tabindex="-1" role="dialog" aria-labelledby="RefApproveRejectModal" aria-hidden="true">
    <div class="modal-dialog custom-modal-dialog" style="max-width: 400px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="RefApproveRejectModal">Approve / Reject </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                    <!-- Add your modal content here -->
                    <div style="padding: 10px; display: flex; justify-content: center;">
                        <div style="max-width: 300px;">
                            <div class="form-group">
                                <label style="font-weight: bold; color: #00768c;" id="rejectionReason"></label>
                              
                            </div>

                        </div>
                    </div>
            </div>

            <div class="modal-footer" style="text-align:center">
                <button type="button" class="btn btn-danger" data-dismiss="modal" id="close-add-service">Close</button>
            </div>
        </div>
    </div>
</div>

